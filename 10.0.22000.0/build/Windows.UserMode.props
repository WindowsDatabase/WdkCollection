<!--
***********************************************************************************************
Windows.UserMode.props

WARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have
          created a backup copy.  Incorrect changes to this file will make it
          impossible to load or build your projects from the command-line or the IDE.

Copyright (C) Microsoft Corporation. All rights reserved.
***********************************************************************************************
-->

<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalOptions>/D_ATL_NO_WIN_SUPPORT %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <IgnoreSpecificDefaultLibraries>%(IgnoreSpecificDefaultLibraries);kernel32.lib;user32.lib</IgnoreSpecificDefaultLibraries >
      <AdditionalDependencies>%(AdditionalDependencies);OneCoreUAP.lib</AdditionalDependencies>
    </Link>
  </ItemDefinitionGroup>

  <PropertyGroup Condition=" '$(VisualStudioVersion)' &lt; '15.0' ">
    <LibraryPath Condition="'$(DDKPlatform)'=='x86'">$(VCInstallDir)lib\onecore;$(LibraryPath)</LibraryPath>
    <LibraryPath Condition="'$(DDKPlatform)'=='x64'">$(VCInstallDir)lib\onecore\amd64;$(LibraryPath)</LibraryPath>
    <LibraryPath Condition="'$(DDKPlatform)'!='x86' AND '$(DDKPlatform)'!='x64'">$(VCInstallDir)lib\onecore\$(Platform);$(LibraryPath)</LibraryPath>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(VisualStudioVersion)' &gt;= '15.0' ">
    <LibraryPath>$(VCToolsInstallDir)lib\onecore\$(DDKPlatform);$(LibraryPath)</LibraryPath>
    <LibraryPath Condition="'$(SpectreMitigation)'=='Spectre'">$(VCToolsInstallDir)lib\Spectre\onecore\$(Platform);$(LibraryPath)</LibraryPath>
  </PropertyGroup>

  <ItemDefinitionGroup>
    <ClCompile>
      <RuntimeLibrary>MultiThreadedDLL</RuntimeLibrary>
    </ClCompile>
  </ItemDefinitionGroup>

  <ItemDefinitionGroup>
    <InfVerif>
      <InfVerif_AdditionalOptions>/w</InfVerif_AdditionalOptions>
    </InfVerif>
  </ItemDefinitionGroup>
    
</Project>
